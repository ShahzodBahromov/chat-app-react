{"version":3,"sources":["App.jsx","index.jsx"],"names":["App","useState","io","setIO","onlineUsers","setOnlineUsers","isLoggedIn","setIsLoggedIn","username","setUsername","receiver","setReceiver","privateMessages","setPrivateMessages","useEffect","SocketIO","transports","emit","on","users","filter","u","console","log","payload","type","autoComplete","spellCheck","placeholder","onKeyUp","e","keyCode","target","value","className","map","i","onClick","m","message","sender","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"iNA0KeA,MAtKf,WAEC,MAAoBC,qBAApB,mBAAOC,EAAP,KAAWC,EAAX,KACA,EAAsCF,mBAAS,IAA/C,mBAAOG,EAAP,KAAoBC,EAApB,KACA,EAAoCJ,oBAAS,GAA7C,mBAAOK,EAAP,KAAmBC,EAAnB,KACA,EAAgCN,mBAAS,MAAzC,mBAAOO,EAAP,KAAiBC,EAAjB,KAEA,EAAgCR,mBAAS,MAAzC,mBAAOS,EAAP,KAAiBC,EAAjB,KAEA,EAA8CV,mBAAS,IAAvD,mBAAOW,EAAP,KAAwBC,EAAxB,KA0EA,OAxEAC,qBAAU,WAETX,EAAMY,IAAS,2BAA4B,CAC1CC,WAAY,CAAC,kBAGZ,IAEHF,qBAAU,WAELZ,GAAMM,GACTN,EAAGe,KAAK,YAAaT,KAGpB,CACFN,EACAM,IAGDM,qBAAU,WAELZ,GAEHA,EAAGgB,GAAG,WAAW,SAAAC,GAEhBd,EAAec,GACfZ,GAAc,QAId,CACFL,IAGDY,qBAAU,WAELZ,GAEHA,EAAGgB,GAAG,cAAc,SAAAV,GAAQ,OAAIH,EAAe,GAAD,mBAAKD,GAAL,CAAkBI,UAG/D,CACFN,EACAE,IAGDU,qBAAU,WAELZ,GAEHA,EAAGgB,GAAG,aAAa,SAAAV,GAAQ,OAAIH,EAAe,YAAID,EAAYgB,QAAO,SAAAC,GAAC,OAAIA,IAAMb,YAG/E,CACFN,EACAE,IAGDU,qBAAU,WAELZ,IAEHoB,QAAQC,IAAIX,GAEZV,EAAGgB,GAAG,uBAAuB,SAAAM,GAAO,OAAIX,EAAmB,GAAD,mBAAKD,GAAL,CAAsBY,WAG/E,CACFtB,EACAU,IAIA,mCACC,gCAEC,kDAGEN,GAAc,uBACdmB,KAAK,OACLC,aAAa,MACbC,YAAa,EACbC,YAAY,WACZC,QAAU,SAAAC,GACS,KAAdA,EAAEC,SACLtB,EAAYqB,EAAEE,OAAOC,UAMzB,sBAAKC,UAAU,OAAf,UAEC,8BACC,6BAEE9B,EAAY+B,KAAI,SAACd,EAAGe,GAAJ,OACf,oBAECC,QAAU,kBAAM1B,EAAYU,IAF7B,SAGGA,GAFIe,UAQX,6BAEExB,EAAgBuB,KAAI,SAACG,EAAGF,GAAJ,OACnB,+BACC,4BAAKE,EAAEC,UACP,4BAAKD,EAAEE,WAFEJ,QASZ1B,GACC,mCACC,gCAEC,6BAAMA,IAEN,uBACCe,KAAK,OACLC,aAAa,MACbC,YAAa,EACbC,YAAY,eACZC,QAAU,SAAAC,GAET,GAAkB,KAAdA,EAAEC,QAAgB,CAErB,IAAMP,EAAU,CACfgB,OAAQhC,EACRE,SAAUA,EACV6B,QAAST,EAAEE,OAAOC,OAGnB/B,EAAGe,KAAK,eAAgBO,qB,QCrJpCiB,IAASC,OACR,cAAC,IAAMC,WAAP,UACC,cAAC,IAAD,UACC,cAAC,EAAD,QAGFC,SAASC,eAAe,W","file":"static/js/main.1ab73b1e.chunk.js","sourcesContent":["import './App.css'\nimport { useState, useEffect } from 'react'\nimport SocketIO from 'socket.io-client'\n\nfunction App () {\n\n\tconst [io, setIO] = useState()\n\tconst [onlineUsers, setOnlineUsers] = useState([])\n\tconst [isLoggedIn, setIsLoggedIn] = useState(false)\n\tconst [username, setUsername] = useState(null)\n\n\tconst [receiver, setReceiver] = useState(null)\n\n\tconst [privateMessages, setPrivateMessages] = useState([])\n\n\tuseEffect(() => {\n\n\t\tsetIO(SocketIO('http://10.10.114.47:4000', {\n\t\t\ttransports: ['websocket',]\n\t\t}))\n\n\t}, [])\n\n\tuseEffect(() => {\n\n\t\tif (io && username) {\n\t\t\tio.emit('new_login', username)\n\t\t}\n\n\t}, [\n\t\tio,\n\t\tusername,\n\t])\n\n\tuseEffect(() => {\n\n\t\tif (io) {\n\n\t\t\tio.on('welcome', users => {\n\n\t\t\t\tsetOnlineUsers(users)\n\t\t\t\tsetIsLoggedIn(true)\n\t\t\t})\n\t\t}\n\n\t}, [\n\t\tio,\n\t])\n\n\tuseEffect(() => {\n\n\t\tif (io) {\n\n\t\t\tio.on('new_online', username => setOnlineUsers([...onlineUsers, username]))\n\t\t}\n\n\t}, [\n\t\tio,\n\t\tonlineUsers,\n\t])\n\n\tuseEffect(() => {\n\n\t\tif (io) {\n\n\t\t\tio.on('user_left', username => setOnlineUsers([...onlineUsers.filter(u => u !== username)]))\n\t\t}\n\n\t}, [\n\t\tio,\n\t\tonlineUsers,\n\t])\n\n\tuseEffect(() => {\n\n\t\tif (io) {\n\n\t\t\tconsole.log(privateMessages)\n\n\t\t\tio.on('new_private_message', payload => setPrivateMessages([...privateMessages, payload]))\n\t\t}\n\n\t}, [\n\t\tio,\n\t\tprivateMessages,\n\t])\n\n\treturn (\n\t\t<>\n\t\t\t<div>\n\n\t\t\t\t<h1>Web Application</h1>\n\n\t\t\t\t{\n\t\t\t\t\t!isLoggedIn && <input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\tspellCheck={ false }\n\t\t\t\t\t\tplaceholder=\"Username\"\n\t\t\t\t\t\tonKeyUp={ e => {\n\t\t\t\t\t\t\tif (e.keyCode === 13) {\n\t\t\t\t\t\t\t\tsetUsername(e.target.value)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t}\n\n\t\t\t\t<div className=\"flex\">\n\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tonlineUsers.map((u, i) => (\n\t\t\t\t\t\t\t\t\t<li\n\t\t\t\t\t\t\t\t\t\tkey={ i }\n\t\t\t\t\t\t\t\t\t\tonClick={ () => setReceiver(u) }\n\t\t\t\t\t\t\t\t\t>{ u }</li>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<ul>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tprivateMessages.map((m, i) => (\n\t\t\t\t\t\t\t\t<li key={ i }>\n\t\t\t\t\t\t\t\t\t<p>{ m.message }</p>\n\t\t\t\t\t\t\t\t\t<p>{ m.sender }</p>\n\t\t\t\t\t\t\t\t</li>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t}\n\t\t\t\t\t</ul>\n\n\t\t\t\t\t{\n\t\t\t\t\t\treceiver && (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<h1>{ receiver }</h1>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"off\"\n\t\t\t\t\t\t\t\t\t\tspellCheck={ false }\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Type message\"\n\t\t\t\t\t\t\t\t\t\tonKeyUp={ e => {\n\n\t\t\t\t\t\t\t\t\t\t\tif (e.keyCode === 13) {\n\n\t\t\t\t\t\t\t\t\t\t\t\tconst payload = {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsender: username,\n\t\t\t\t\t\t\t\t\t\t\t\t\treceiver: receiver,\n\t\t\t\t\t\t\t\t\t\t\t\t\tmessage: e.target.value,\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\tio.emit('send_message', payload)\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nimport { BrowserRouter } from 'react-router-dom'\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</React.StrictMode>,\n\tdocument.getElementById('root')\n)\n"],"sourceRoot":""}